@inject IVideoLibrary videoLibrary
@inject IYoutube youtube
@inject ISearchHelper searchHelper
@inject IVideoLibraryHelper videoLibraryHelper
@inject ISnackbar snackbar

<MudTextField @bind-Value="_channelUrl"
              Class="mb-4"
              Label="Enter Channel URL"
              Variant="Variant.Outlined"
              Adornment="Adornment.End"
              AdornmentIcon="@Icons.Material.Filled.Download"
              OnAdornmentClick="LoadChannel"
              Required="true"
              Clearable="true" />

<MudAutocomplete T="string" Label="@GetChannelSearchBarText()"
                 Variant="Variant.Outlined"
                 Class="mb-4"
                 HelperText="Search the loaded channels."
                 AdornmentIcon="@Icons.Material.Filled.YoutubeSearchedFor"
                 OnAdornmentClick="FilterChannels"
                 SearchFunc="SearchChannels"
                 ResetValueOnEmptyText="true"
@bind-Value="_channelSearchText" />
<MudButton Color="Color.Warning"
           Variant="Variant.Filled"
           Class="w-100 mb-3"
@onclick="ClearChannels">
    Clear Channels
</MudButton>
<MudGrid>
    <MudVirtualize Items="_visibleChannels" Context="c" OverscanCount="6">
        <ChannelComponent @key="c.ChannelId"
                          Channel="c"
                          CardSize="4"
                          RemoveEvent="(() => RemoveChannel(c))" />
    </MudVirtualize>
    @if (_loadedItems < videoLibrary.PlaylistVideos.Count)
    {
        <div class="text-center mt-4">
            <MudButton Variant="Variant.Filled"
                       Color="Color.Primary"
            @onclick="LoadMoreChannels">
                Load More
            </MudButton>
        </div>
    }
</MudGrid>




